{"version":3,"file":"index.js","sources":["../src/utils/storage.js","../src/utils/url.js","../src/utils/page.js","../src/utils/time.js","../src/utils/payment.js","../src/utils/index.js","../src/helpers.js","../src/index.js"],"sourcesContent":["import wx from '../wx'\r\n\r\n/**\r\n * 本地存储\r\n */\r\nexport default class Storage {\r\n  /**\r\n   * 构造方法\r\n   * @param key {string} 键\r\n   */\r\n  constructor (key) {\r\n    this.key = key\r\n  }\r\n\r\n  /**\r\n   * 设置 storage\r\n   * @param {string} value 值\r\n   */\r\n  set (value) {\r\n    wx.setStorageSync(this.key, value)\r\n  }\r\n\r\n  /**\r\n   * 获取 storage\r\n   * @returns {string}\r\n   */\r\n  get () {\r\n    return wx.getStorageSync(this.key) || ''\r\n  }\r\n\r\n  /**\r\n   * 移除 storage\r\n   * @returns {string}\r\n   */\r\n  remove () {\r\n    wx.removeStorageSync(this.key)\r\n  }\r\n\r\n  /**\r\n   * 清空 storage\r\n   */\r\n  clear () {\r\n    wx.clearStorageSync()\r\n  }\r\n}\r\n","export default {\r\n  encode (string) {\r\n    return encodeURIComponent(string)\r\n  },\r\n  decode (string) {\r\n    return decodeURIComponent(string)\r\n  }\r\n}\r\n","import qs from 'qs'\r\n\r\nexport default {\r\n  toURL ({ route, options = {} }) {\r\n    return `/${route}${Object.keys(options).length ? `?${qs.stringify(options)}` : ''}`\r\n  }\r\n}\r\n","import dayjs from 'dayjs'\r\n\r\nconst DATE_FORMATTER = 'YYYY-MM-DD'\r\nconst TIME_FORMATTER = 'YYYY-MM-DD hh:mm'\r\n\r\nexport default {\r\n  format (time, formatter) {\r\n    return dayjs(time).format(formatter)\r\n  },\r\n  getDate (time) {\r\n    return dayjs(time).format(DATE_FORMATTER)\r\n  },\r\n  getTime (time) {\r\n    return dayjs(time).format(TIME_FORMATTER)\r\n  }\r\n}\r\n","import md5 from 'MD5'\r\n\r\nexport default {\r\n  sign (params) {\r\n    const querystring = Object.keys(params)\r\n      .filter(key => !!params[key] && key !== 'key')\r\n      .sort()\r\n      .map(key => `${key}=${params[key]}`)\r\n      .join('&') + '&key=' + params.key\r\n    return md5(querystring).toUpperCase()\r\n  }\r\n}\r\n","import Storage from './storage'\r\nimport url from './url'\r\nimport page from './page'\r\nimport time from './time'\r\nimport payment from './payment'\r\n\r\nexport default {\r\n  Storage,\r\n  url,\r\n  page,\r\n  time,\r\n  payment\r\n}\r\n","export default {\r\n  /**\r\n   * 等待 n 毫秒\r\n   * @param {string} n 毫秒数\r\n   * @returns {Promise}\r\n   */\r\n  sleep (n) {\r\n    return new Promise(resolve => {\r\n      setTimeout(resolve, n)\r\n    })\r\n  }\r\n}\r\n","import wx from './wx'\r\nimport utils from './utils'\r\nimport helpers from './helpers'\r\n\r\nexport default {\r\n  wx,\r\n  utils,\r\n  helpers\r\n}\r\n"],"names":["Storage","key","value","setStorageSync","this","wx","getStorageSync","removeStorageSync","clearStorageSync","string","encodeURIComponent","decodeURIComponent","route","options","Object","keys","length","qs","stringify","DATE_FORMATTER","TIME_FORMATTER","time","formatter","dayjs","format","params","querystring","filter","sort","map","join","md5","toUpperCase","n","Promise","resolve"],"mappings":"8jBAKqBA,8BAKNC,+BACNA,IAAMA,kDAORC,MACAC,eAAeC,KAAKH,IAAKC,wCAQrBG,GAAGC,eAAeF,KAAKH,MAAQ,uCAQnCM,kBAAkBH,KAAKH,wCAOvBO,gCC1CQ,iBACLC,UACCC,mBAAmBD,oBAEpBA,UACCE,mBAAmBF,UCHf,uBACJG,IAAAA,UAAOC,QAAAA,aAAU,eACbD,GAAQE,OAAOC,KAAKF,GAASG,WAAaC,GAAGC,UAAUL,GAAa,MCF7EM,eAAiB,aACjBC,eAAiB,wBAER,iBACLC,EAAMC,UACLC,MAAMF,GAAMG,OAAOF,qBAEnBD,UACAE,MAAMF,GAAMG,OAAOL,kCAEnBE,UACAE,MAAMF,GAAMG,OAAOJ,0BCXf,eACPK,OACEC,EAAcZ,OAAOC,KAAKU,GAC7BE,OAAO,oBAASF,EAAOxB,IAAgB,QAARA,IAC/B2B,OACAC,IAAI,mBAAU5B,MAAOwB,EAAOxB,KAC5B6B,KAAK,KAAO,QAAUL,EAAOxB,WACzB8B,IAAIL,GAAaM,sBCHb,sECNA,gBAMNC,UACE,IAAIC,QAAQ,uBACNC,EAASF,aCJX"}