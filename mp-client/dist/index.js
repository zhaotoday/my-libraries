"use strict";var prefix="mp_client__",consts={prefix:prefix},classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},createClass=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),toConsumableArray=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)},Storage=function(){function t(e){classCallCheck(this,t),this.key=e}return createClass(t,[{key:"set",value:function(e){wx.setStorageSync(this.key,e)}},{key:"get",value:function(){return wx.getStorageSync(this.key)||""}},{key:"remove",value:function(){wx.removeStorageSync(this.key)}},{key:"clear",value:function(){wx.clearStorageSync()}}]),t}(),has=Object.prototype.hasOwnProperty,hexTable=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),compactQueue=function(e){for(var t;e.length;){var r=e.pop();if(t=r.obj[r.prop],Array.isArray(t)){for(var n=[],a=0;a<t.length;++a)void 0!==t[a]&&n.push(t[a]);r.obj[r.prop]=n}}return t},arrayToObject=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)void 0!==e[n]&&(r[n]=e[n]);return r},merge=function n(r,a,i){if(!a)return r;if("object"!=typeof a){if(Array.isArray(r))r.push(a);else{if("object"!=typeof r)return[r,a];(i.plainObjects||i.allowPrototypes||!has.call(Object.prototype,a))&&(r[a]=!0)}return r}if("object"!=typeof r)return[r].concat(a);var e=r;return Array.isArray(r)&&!Array.isArray(a)&&(e=arrayToObject(r,i)),Array.isArray(r)&&Array.isArray(a)?(a.forEach(function(e,t){has.call(r,t)?r[t]&&"object"==typeof r[t]?r[t]=n(r[t],e,i):r.push(e):r[t]=e}),r):Object.keys(a).reduce(function(e,t){var r=a[t];return has.call(e,t)?e[t]=n(e[t],r,i):e[t]=r,e},e)},assign=function(e,r){return Object.keys(r).reduce(function(e,t){return e[t]=r[t],e},e)},decode=function(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(e){return t}},encode=function(e){if(0===e.length)return e;for(var t="string"==typeof e?e:String(e),r="",n=0;n<t.length;++n){var a=t.charCodeAt(n);45===a||46===a||95===a||126===a||48<=a&&a<=57||65<=a&&a<=90||97<=a&&a<=122?r+=t.charAt(n):a<128?r+=hexTable[a]:a<2048?r+=hexTable[192|a>>6]+hexTable[128|63&a]:a<55296||57344<=a?r+=hexTable[224|a>>12]+hexTable[128|a>>6&63]+hexTable[128|63&a]:(n+=1,a=65536+((1023&a)<<10|1023&t.charCodeAt(n)),r+=hexTable[240|a>>18]+hexTable[128|a>>12&63]+hexTable[128|a>>6&63]+hexTable[128|63&a])}return r},compact=function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],n=0;n<t.length;++n)for(var a=t[n],i=a.obj[a.prop],s=Object.keys(i),o=0;o<s.length;++o){var u=s[o],c=i[u];"object"==typeof c&&null!==c&&-1===r.indexOf(c)&&(t.push({obj:i,prop:u}),r.push(c))}return compactQueue(t)},isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},isBuffer=function(e){return null!=e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},utils={arrayToObject:arrayToObject,assign:assign,compact:compact,decode:decode,encode:encode,isBuffer:isBuffer,isRegExp:isRegExp,merge:merge},replace=String.prototype.replace,percentTwenties=/%20/g,formats={default:"RFC3986",formatters:{RFC1738:function(e){return replace.call(e,percentTwenties,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"},arrayPrefixGenerators={brackets:function(e){return e+"[]"},indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},toISO=Date.prototype.toISOString,defaults$1={delimiter:"&",encode:!0,encoder:utils.encode,encodeValuesOnly:!1,serializeDate:function(e){return toISO.call(e)},skipNulls:!1,strictNullHandling:!1},stringify=function e(t,r,n,a,i,s,o,u,c,l,f,d){var h=t;if("function"==typeof o)h=o(r,h);else if(h instanceof Date)h=l(h);else if(null===h){if(a)return s&&!d?s(r,defaults$1.encoder):r;h=""}if("string"==typeof h||"number"==typeof h||"boolean"==typeof h||utils.isBuffer(h))return s?[f(d?r:s(r,defaults$1.encoder))+"="+f(s(h,defaults$1.encoder))]:[f(r)+"="+f(String(h))];var p,y=[];if(void 0===h)return y;if(Array.isArray(o))p=o;else{var m=Object.keys(h);p=u?m.sort(u):m}for(var $=0;$<p.length;++$){var g=p[$];i&&null===h[g]||(y=Array.isArray(h)?y.concat(e(h[g],n(r,g),n,a,i,s,o,u,c,l,f,d)):y.concat(e(h[g],r+(c?"."+g:"["+g+"]"),n,a,i,s,o,u,c,l,f,d)))}return y},stringify_1=function(e,t){var r=e,n=t?utils.assign({},t):{};if(null!==n.encoder&&void 0!==n.encoder&&"function"!=typeof n.encoder)throw new TypeError("Encoder has to be a function.");var a=void 0===n.delimiter?defaults$1.delimiter:n.delimiter,i="boolean"==typeof n.strictNullHandling?n.strictNullHandling:defaults$1.strictNullHandling,s="boolean"==typeof n.skipNulls?n.skipNulls:defaults$1.skipNulls,o="boolean"==typeof n.encode?n.encode:defaults$1.encode,u="function"==typeof n.encoder?n.encoder:defaults$1.encoder,c="function"==typeof n.sort?n.sort:null,l=void 0!==n.allowDots&&n.allowDots,f="function"==typeof n.serializeDate?n.serializeDate:defaults$1.serializeDate,d="boolean"==typeof n.encodeValuesOnly?n.encodeValuesOnly:defaults$1.encodeValuesOnly;if(void 0===n.format)n.format=formats.default;else if(!Object.prototype.hasOwnProperty.call(formats.formatters,n.format))throw new TypeError("Unknown format option provided.");var h,p,y=formats.formatters[n.format];"function"==typeof n.filter?r=(p=n.filter)("",r):Array.isArray(n.filter)&&(h=p=n.filter);var m,$=[];if("object"!=typeof r||null===r)return"";m=n.arrayFormat in arrayPrefixGenerators?n.arrayFormat:"indices"in n?n.indices?"indices":"repeat":"indices";var g=arrayPrefixGenerators[m];h||(h=Object.keys(r)),c&&h.sort(c);for(var b=0;b<h.length;++b){var v=h[b];s&&null===r[v]||($=$.concat(stringify(r[v],v,g,i,s,o?u:null,p,c,l,f,y,d)))}var O=$.join(a),S=!0===n.addQueryPrefix?"?":"";return 0<O.length?S+O:""},has$1=Object.prototype.hasOwnProperty,defaults$2={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:utils.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},parseValues=function(e,t){for(var r={},n=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,a=t.parameterLimit===1/0?void 0:t.parameterLimit,i=n.split(t.delimiter,a),s=0;s<i.length;++s){var o,u,c=i[s],l=c.indexOf("]="),f=-1===l?c.indexOf("="):l+1;-1===f?(o=t.decoder(c,defaults$2.decoder),u=t.strictNullHandling?null:""):(o=t.decoder(c.slice(0,f),defaults$2.decoder),u=t.decoder(c.slice(f+1),defaults$2.decoder)),has$1.call(r,o)?r[o]=[].concat(r[o]).concat(u):r[o]=u}return r},parseObject=function(e,t,r){for(var n=t,a=e.length-1;0<=a;--a){var i,s=e[a];if("[]"===s)i=(i=[]).concat(n);else{i=r.plainObjects?Object.create(null):{};var o="["===s.charAt(0)&&"]"===s.charAt(s.length-1)?s.slice(1,-1):s,u=parseInt(o,10);!isNaN(u)&&s!==o&&String(u)===o&&0<=u&&r.parseArrays&&u<=r.arrayLimit?(i=[])[u]=n:i[o]=n}n=i}return n},parseKeys=function(e,t,r){if(e){var n=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/g,i=/(\[[^[\]]*])/.exec(n),s=i?n.slice(0,i.index):n,o=[];if(s){if(!r.plainObjects&&has$1.call(Object.prototype,s)&&!r.allowPrototypes)return;o.push(s)}for(var u=0;null!==(i=a.exec(n))&&u<r.depth;){if(u+=1,!r.plainObjects&&has$1.call(Object.prototype,i[1].slice(1,-1))&&!r.allowPrototypes)return;o.push(i[1])}return i&&o.push("["+n.slice(i.index)+"]"),parseObject(o,t,r)}},parse=function(e,t){var r=t?utils.assign({},t):{};if(null!==r.decoder&&void 0!==r.decoder&&"function"!=typeof r.decoder)throw new TypeError("Decoder has to be a function.");if(r.ignoreQueryPrefix=!0===r.ignoreQueryPrefix,r.delimiter="string"==typeof r.delimiter||utils.isRegExp(r.delimiter)?r.delimiter:defaults$2.delimiter,r.depth="number"==typeof r.depth?r.depth:defaults$2.depth,r.arrayLimit="number"==typeof r.arrayLimit?r.arrayLimit:defaults$2.arrayLimit,r.parseArrays=!1!==r.parseArrays,r.decoder="function"==typeof r.decoder?r.decoder:defaults$2.decoder,r.allowDots="boolean"==typeof r.allowDots?r.allowDots:defaults$2.allowDots,r.plainObjects="boolean"==typeof r.plainObjects?r.plainObjects:defaults$2.plainObjects,r.allowPrototypes="boolean"==typeof r.allowPrototypes?r.allowPrototypes:defaults$2.allowPrototypes,r.parameterLimit="number"==typeof r.parameterLimit?r.parameterLimit:defaults$2.parameterLimit,r.strictNullHandling="boolean"==typeof r.strictNullHandling?r.strictNullHandling:defaults$2.strictNullHandling,""===e||null==e)return r.plainObjects?Object.create(null):{};for(var n="string"==typeof e?parseValues(e,r):e,a=r.plainObjects?Object.create(null):{},i=Object.keys(n),s=0;s<i.length;++s){var o=i[s],u=parseKeys(o,n[o],r);a=utils.merge(a,u,r)}return utils.compact(a)},lib={formats:formats,parse:parse,stringify:stringify_1},page={toURL:function(e){var t=e.route,r=e.options,n=void 0===r?{}:r;return"/"+t+(Object.keys(n).length?"?"+lib.stringify(n):"")}},storage=new Storage(consts.prefix+"pages"),MAX_PAGES=5,currentPages={whiteList:[],addWhiteList:function(e){this.whiteList=[].concat(toConsumableArray(this.whiteList),toConsumableArray(e))},storePages:function(){var e=this,t=getCurrentPages(),r=t[t.length-1],n=r.route,a=r.options,i=storage.get()||[];e.whiteList.includes(n)||0<i.length&&i[i.length-1].route===n||(i.length>=MAX_PAGES&&i.shift(),i.push({route:n,options:a,url:page.toURL({route:n,options:a})}),storage.set(i))},getPages:function(){return storage.get()},clearPages:function(){storage.clear()}},url={encode:function(e){return encodeURIComponent(e)},decode:function(e){return decodeURIComponent(e)}},commonjsGlobal="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function createCommonjsModule(e,t){return e(t={exports:{}},t.exports),t.exports}var dayjs_min=createCommonjsModule(function(e,t){e.exports=function(){var r="millisecond",o="second",u="minute",c="hour",l="day",f="week",d="month",h="year",n=/^(\d{4})-?(\d{1,2})-?(\d{0,2})(.*?(\d{1,2}):(\d{1,2}):(\d{1,2}))?.?(\d{1,3})?$/,p=/\[.*?\]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,e={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},a=function(e,t,r){var n=String(e);return!n||n.length>=t?e:""+Array(t+1-n.length).join(r)+e},t={padStart:a,padZoneStr:function(e){var t=Math.abs(e),r=Math.floor(t/60),n=t%60;return(e<=0?"+":"-")+a(r,2,"0")+":"+a(n,2,"0")},monthDiff:function(e,t){var r=12*(t.year()-e.year())+(t.month()-e.month()),n=e.clone().add(r,"months"),a=t-n<0,i=e.clone().add(r+(a?-1:1),"months");return Number(-(r+(t-n)/(a?n-i:i-n)))},absFloor:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},prettyUnit:function(e){return{M:d,y:h,w:f,d:l,h:c,m:u,s:o,ms:r}[e]||String(e||"").toLowerCase().replace(/s$/,"")},isUndefined:function(e){return void 0===e}},i="en",s={};s[i]=e;var y=function(e){return e instanceof v},m=function(e,t,r){var n;if(!e)return null;if("string"==typeof e)s[e]&&(n=e),t&&(s[e]=t,n=e);else{var a=e.name;s[a]=e,n=a}return r||(i=n),n},$=function(e,t){if(y(e))return e.clone();var r=t||{};return r.date=e,new v(r)},g=function(e,t){return $(e,{locale:t.$L})},b=t;b.parseLocale=m,b.isDayjs=y,b.wrapper=g;var v=function(){function e(e){this.parse(e)}var t=e.prototype;return t.parse=function(e){var t,r;this.$d=null===(t=e.date)?new Date(NaN):b.isUndefined(t)?new Date:t instanceof Date?t:"string"==typeof t&&/.*[^Z]$/i.test(t)&&(r=t.match(n))?new Date(r[1],r[2]-1,r[3]||1,r[5]||0,r[6]||0,r[7]||0,r[8]||0):new Date(t),this.init(e)},t.init=function(e){this.$y=this.$d.getFullYear(),this.$M=this.$d.getMonth(),this.$D=this.$d.getDate(),this.$W=this.$d.getDay(),this.$H=this.$d.getHours(),this.$m=this.$d.getMinutes(),this.$s=this.$d.getSeconds(),this.$ms=this.$d.getMilliseconds(),this.$L=this.$L||m(e.locale,null,!0)||i},t.$utils=function(){return b},t.isValid=function(){return!("Invalid Date"===this.$d.toString())},t.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0},t.$compare=function(e){return this.valueOf()-$(e).valueOf()},t.isSame=function(e){return 0===this.$compare(e)},t.isBefore=function(e){return this.$compare(e)<0},t.isAfter=function(e){return 0<this.$compare(e)},t.year=function(){return this.$y},t.month=function(){return this.$M},t.day=function(){return this.$W},t.date=function(){return this.$D},t.hour=function(){return this.$H},t.minute=function(){return this.$m},t.second=function(){return this.$s},t.millisecond=function(){return this.$ms},t.unix=function(){return Math.floor(this.valueOf()/1e3)},t.valueOf=function(){return this.$d.getTime()},t.startOf=function(e,t){var n=this,a=!!b.isUndefined(t)||t,r=function(e,t){var r=g(new Date(n.$y,t,e),n);return a?r:r.endOf(l)},i=function(e,t){return g(n.toDate()[e].apply(n.toDate(),a?[0,0,0,0].slice(t):[23,59,59,999].slice(t)),n)};switch(b.prettyUnit(e)){case h:return a?r(1,0):r(31,11);case d:return a?r(1,this.$M):r(0,this.$M+1);case f:return r(a?this.$D-this.$W:this.$D+(6-this.$W),this.$M);case l:case"date":return i("setHours",0);case c:return i("setMinutes",1);case u:return i("setSeconds",2);case o:return i("setMilliseconds",3);default:return this.clone()}},t.endOf=function(e){return this.startOf(e,!1)},t.$set=function(e,t){switch(b.prettyUnit(e)){case"date":this.$d.setDate(t);break;case d:this.$d.setMonth(t);break;case h:this.$d.setFullYear(t);break;case c:this.$d.setHours(t);break;case u:this.$d.setMinutes(t);break;case o:this.$d.setSeconds(t);break;case r:this.$d.setMilliseconds(t)}return this.init(),this},t.set=function(e,t){return this.clone().$set(e,t)},t.add=function(n,e){var a=this;n=Number(n);var t,r=b.prettyUnit(e),i=function(e,t){var r=a.set("date",1).set(e,t+n);return r.set("date",Math.min(a.$D,r.daysInMonth()))};if(r===d)return i(d,this.$M);if(r===h)return i(h,this.$y);switch(r){case u:t=6e4;break;case c:t=36e5;break;case l:t=864e5;break;case f:t=6048e5;break;case o:t=1e3;break;default:t=1}var s=this.valueOf()+n*t;return g(s,this)},t.subtract=function(e,t){return this.add(-1*e,t)},t.format=function(e){var t=this,r=e||"YYYY-MM-DDTHH:mm:ssZ",n=b.padZoneStr(this.$d.getTimezoneOffset()),a=this.$locale(),i=a.weekdays,s=a.months,o=function(e,t,r,n){return e&&e[t]||r[t].substr(0,n)};return r.replace(p,function(e){if(-1<e.indexOf("["))return e.replace(/\[|\]/g,"");switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return String(t.$y);case"M":return String(t.$M+1);case"MM":return b.padStart(t.$M+1,2,"0");case"MMM":return o(a.monthsShort,t.$M,s,3);case"MMMM":return s[t.$M];case"D":return String(t.$D);case"DD":return b.padStart(t.$D,2,"0");case"d":return String(t.$W);case"dd":return o(a.weekdaysMin,t.$W,i,2);case"ddd":return o(a.weekdaysShort,t.$W,i,3);case"dddd":return i[t.$W];case"H":return String(t.$H);case"HH":return b.padStart(t.$H,2,"0");case"h":case"hh":return 0===t.$H?12:b.padStart(t.$H<13?t.$H:t.$H-12,"hh"===e?2:1,"0");case"a":return t.$H<12?"am":"pm";case"A":return t.$H<12?"AM":"PM";case"m":return String(t.$m);case"mm":return b.padStart(t.$m,2,"0");case"s":return String(t.$s);case"ss":return b.padStart(t.$s,2,"0");case"SSS":return b.padStart(t.$ms,3,"0");case"Z":return n;default:return n.replace(":","")}})},t.diff=function(e,t,r){var n=b.prettyUnit(t),a=$(e),i=this-a,s=b.monthDiff(this,a);switch(n){case h:s/=12;break;case d:break;case"quarter":s/=3;break;case f:s=i/6048e5;break;case l:s=i/864e5;break;case c:s=i/36e5;break;case u:s=i/6e4;break;case o:s=i/1e3;break;default:s=i}return r?s:b.absFloor(s)},t.daysInMonth=function(){return this.endOf(d).$D},t.$locale=function(){return s[this.$L]},t.locale=function(e,t){var r=this.clone();return r.$L=m(e,t,!0),r},t.clone=function(){return g(this.toDate(),this)},t.toDate=function(){return new Date(this.$d)},t.toArray=function(){return[this.$y,this.$M,this.$D,this.$H,this.$m,this.$s,this.$ms]},t.toJSON=function(){return this.toISOString()},t.toISOString=function(){return this.toDate().toISOString()},t.toObject=function(){return{years:this.$y,months:this.$M,date:this.$D,hours:this.$H,minutes:this.$m,seconds:this.$s,milliseconds:this.$ms}},t.toString=function(){return this.$d.toUTCString()},e}();return $.extend=function(e,t){return e(t,v,$),$},$.locale=m,$.isDayjs=y,$.en=s[i],$}()}),DATE_FORMATTER="YYYY-MM-DD",time={getDate:function(e){return dayjs_min(e).format(DATE_FORMATTER)}},utils$3={consts:consts,Storage:Storage,currentPages:currentPages,url:url,page:page,time:time},helpers={sleep:function(t){return new Promise(function(e){setTimeout(e,t)})}},index={wx:wx,utils:utils$3,helpers:helpers};module.exports=index;
//# sourceMappingURL=index.js.map
