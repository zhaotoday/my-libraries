!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.mp=e()}(this,function(){"use strict";function t(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function e(t,e){return t(e={exports:{}},e.exports),e.exports}var u=e(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default={}});t(u);var f=e(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n,r=function(){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}(),o=(n=u)&&n.__esModule?n:{default:n};var s={map:{},mq:[],running:[],MAX_REQUEST:5,push:function(t){for(t.t=+new Date;-1<this.mq.indexOf(t.t)||-1<this.running.indexOf(t.t);)t.t+=10*Math.random()>>0;this.mq.push(t.t),this.map[t.t]=t},next:function(){var r=this;if(0!==this.mq.length&&this.running.length<this.MAX_REQUEST-1){var t=this.mq.shift(),o=this.map[t],i=o.complete;return o.complete=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];r.running.splice(r.running.indexOf(o.t),1),delete r.map[o.t],i&&i.apply(o,e),r.next()},this.running.push(o.t),wx.request(o)}},request:function(t){return t="string"==typeof(t=t||{})?{url:t}:t,this.push(t),this.next()}},i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$addons={},this.$interceptors={},this.$pages={}}return r(t,[{key:"$init",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.$initAPI(t,e.noPromiseAPI),this.$wxapp=getApp()}},{key:"use",value:function(t){for(var e=arguments.length,n=Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];"string"==typeof t&&this[t]?(this.$addons[t]=1,this[t](n)):this.$addons[t.name]=new t(n)}},{key:"intercept",value:function(t,e){this.$interceptors[t]=e}},{key:"promisify",value:function(){}},{key:"requestfix",value:function(){}},{key:"$initAPI",value:function(t,e){var a=this,n={stopRecord:!0,getRecorderManager:!0,pauseVoice:!0,stopVoice:!0,pauseBackgroundAudio:!0,stopBackgroundAudio:!0,getBackgroundAudioManager:!0,createAudioContext:!0,createInnerAudioContext:!0,createVideoContext:!0,createCameraContext:!0,createMapContext:!0,canIUse:!0,startAccelerometer:!0,stopAccelerometer:!0,startCompass:!0,stopCompass:!0,onBLECharacteristicValueChange:!0,onBLEConnectionStateChange:!0,hideToast:!0,hideLoading:!0,showNavigationBarLoading:!0,hideNavigationBarLoading:!0,navigateBack:!0,createAnimation:!0,pageScrollTo:!0,createSelectorQuery:!0,createCanvasContext:!0,createContext:!0,drawCanvas:!0,hideKeyboard:!0,stopPullDownRefresh:!0,arrayBufferToBase64:!0,base64ToArrayBuffer:!0};if(e)if(Array.isArray(e))e.forEach(function(t){return n[t]=!0});else for(var r in e)n[r]=e[r];Object.keys(wx).forEach(function(i){n[i]||"on"===i.substr(0,2)||/\w+Sync$/.test(i)?Object.defineProperty(o.default,i,{get:function(){return function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return wx[i].apply(wx,e)}}}):Object.defineProperty(o.default,i,{get:function(){return function(o){if(o=o||{},a.$interceptors[i]&&a.$interceptors[i].config){var t=a.$interceptors[i].config.call(a,o);if(!1===t)return a.$addons.promisify?Promise.reject("aborted by interceptor"):void(o.fail&&o.fail("aborted by interceptor"));o=t}if("request"===i&&(o="string"==typeof o?{url:o}:o),"string"==typeof o)return wx[i](o);if(a.$addons.promisify){var e=void 0,n=new Promise(function(n,r){var t={};["fail","success","complete"].forEach(function(e){t[e]=o[e],o[e]=function(t){a.$interceptors[i]&&a.$interceptors[i][e]&&(t=a.$interceptors[i][e].call(a,t)),"success"===e?n(t):"fail"===e&&r(t)}}),a.$addons.requestfix&&"request"===i?s.request(o):e=wx[i](o)});return"uploadFile"!==i&&"downloadFile"!==i||(n.progress=function(t){return e.onProgressUpdate(t),n},n.abort=function(t){return t&&t(),e.abort(),n}),n}var r={};if(["fail","success","complete"].forEach(function(e){r[e]=o[e],o[e]=function(t){a.$interceptors[i]&&a.$interceptors[i][e]&&(t=a.$interceptors[i][e].call(a,t)),r[e]&&r[e].call(a,t)}}),!a.$addons.requestfix||"request"!==i)return wx[i](o);s.request(o)}}}),t[i]=o.default[i]})}}]),t}();e.default=i});t(f);var l=e(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}();var r=function(){function r(t,e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),this.active=!0,this.name=t,this.source=e,this.type=n}return n(r,[{key:"$destroy",value:function(){this.active=!1}},{key:"$transfor",value:function(t){var e=0;for(e in t)this[e]=t[e]}}]),r}();e.default=r});t(l);var h=e(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default={$isEmpty:function(t){return 0===Object.keys(t).length},$isEqual:function(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;if(t!=t)return e!=e;if(!t||!e)return t===e;var o=void 0===t?"undefined":l(t);return("function"===o||"object"===o||"object"===(void 0===e?"undefined":l(e)))&&this.$isDeepEqual(t,e,n,r)},$isDeepEqual:function(t,e,n,r){var o=toString.call(t);if(o!==toString.call(e))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":var i="undefined"!=typeof Symbol?Symbol.prototype:null;return i.valueOf.call(t)===i.valueOf.call(e)}var a="[object Array]"===o;if(!a){if("object"!==(void 0===t?"undefined":l(t))||"object"!==(void 0===e?"undefined":l(e)))return t===e;var s=t.constructor,c=e.constructor;if(s!==c&&!("function"==typeof s&&s instanceof s&&"function"==typeof c&&c instanceof c)&&"constructor"in t&&"constructor"in e)return!1}r=r||[];for(var u=(n=n||[]).length;u--;)if(n[u]===t)return r[u]===e;if(n.push(t),r.push(e),a){if((u=t.length)!==e.length)return!1;for(;u--;)if(!this.$isEqual(t[u],e[u],n,r))return!1}else{var f,p=Object.keys(t);if(u=p.length,Object.keys(e).length!==u)return!1;for(;u--;)if(f=p[u],!this.$has(e,f)||!this.$isEqual(t[f],e[f],n,r))return!1}return n.pop(),r.pop(),!0},$has:function(t,e){if("[object Array]"!==toString.call(e))return t&&hasOwnProperty.call(t,e);for(var n=e.length,r=0;r<n;r++){var o=e[r];if(!t||!hasOwnProperty.call(t,o))return!1;t=t[o]}return!!n},$extend:function(){var t,e,n,r,o,i,a=arguments[0]||{},s=1,c=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"!==(void 0===a?"undefined":l(a))&&"function"!=typeof a&&(a={}),s===c&&(a=this,s--);s<c;s++)if(t=arguments[s])for(e in t)n=a[e],a!==(r=t[e])&&(u&&r&&(this.$isPlainObject(r)||(o=Array.isArray(r)))?(o?(o=!1,i=n&&Array.isArray(n)?n:[]):i=n&&this.$isPlainObject(n)?n:{},a[e]=this.$extend(u,i,r)):a[e]=r);return a},$copy:function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return Array.isArray(t)?this.$extend(e,[],t):""+t=="null"?t:"object"===(void 0===t?"undefined":l(t))?this.$extend(e,{},t):t},$isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==Object.prototype.toString.call(t))&&(!(e=Object.getPrototypeOf(t))||"function"==typeof(n=Object.prototype.hasOwnProperty.call(e,"constructor")&&e.constructor)&&Object.prototype.hasOwnProperty.toString.call(n)===Object.prototype.hasOwnProperty.toString.call(Object))},$resolvePath:function(t,e){if(!e)return t;if("/"===e[0])return e=e.substr(1),this.$resolvePath("",e);if("."!==e[0])return this.$resolvePath(t,"./"+e);var n=t.split("/");return"."===e[0]&&"/"===e[1]?"."!==(e=e.substr(2))[0]?(n.length?n[n.length-1]=e:n=[e],1===n.length?"/"+n[0]:n.join("/")):this.$resolvePath(n.join("/"),e):"."===e[0]&&"."===e[1]&&"/"===e[2]?(e=e.replace(/^\.*/gi,""),n.pop(),this.$resolvePath(n.join("/"),"."+e)):"."===e[0]?this.$resolvePath(t,e.substr(1)):void 0},$getParams:function(t){var e={},n=t.indexOf("?");if(-1!==n){var r=t.substr(n+1),o=void 0;r.split("&").forEach(function(t){o=t.split("="),e[o[0]]=decodeURIComponent(o[1])})}return e},hyphenate:function(t){return t.replace(/([^-])([A-Z])/g,"$1-$2").replace(/([^-])([A-Z])/g,"$1-$2").toLowerCase()},camelize:function(t){return t.replace(/-(\w)/g,function(t,e){return e?e.toUpperCase():""})}}});t(h);var d=e(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}(),d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f=r(l),$=r(h);function r(t){return t&&t.__esModule?t:{default:t}}var y={check:function(t,e){switch(t){case String:return"string"==typeof e;case Number:return"number"==typeof e;case Boolean:return"boolean"==typeof e;case Function:return"function"==typeof e;case Object:return"object"===(void 0===e?"undefined":d(e));case Array:return"[object Array]"===toString.call(e);default:return e instanceof t}},build:function(e){var n={};return"string"==typeof e?n[e]={}:"[object Array]"===toString.call(e)?e.forEach(function(t){n[t]={}}):Object.keys(e).forEach(function(t){"function"==typeof e[t]?n[t]={type:[e[t]]}:"[object Array]"===toString.call(e[t])?n[t]={type:e[t]}:n[t]=e[t],n[t].type&&"[object Array]"!==toString.call(n[t].type)&&(n[t].type=[n[t].type])}),n},valid:function(t,e,n){var r=this,o=!1;if(t[e]){if(t[e].type)return t[e].type.some(function(t){return r.check(t,n)});o=!0}return o},getValue:function(t,e,n){var r;return r=void 0!==n&&this.valid(t,e,n)?n:"function"==typeof t[e].default?t[e].default():t[e].default,t[e].coerce?t[e].coerce(r):r}},o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$com={},this.$events={},this.$mixins=[],this.$isComponent=!0,this.$prefix="",this.$mappingProps={},this.data={},this.methods={}}return n(t,[{key:"$init",value:function(t,n,r){var o=this;this.$wxpage=t,this.$isComponent&&(this.$root=n||this.$root,this.$parent=r||this.$parent,this.$wxapp=this.$root.$parent.$wxapp),this.props&&(this.props=y.build(this.props));var e=void 0,i={},a=this.props,s=void 0,c=void 0,u=void 0,f=!1,p=void 0;if(void 0===this.$initData?this.$initData=$.default.$copy(this.data,!0):this.data=$.default.$copy(this.$initData,!0),this.$props)for(s in this.$props)for(u in this.$props[s])/\.sync$/.test(u)&&(this.$mappingProps[this.$props[s][u]]||(this.$mappingProps[this.$props[s][u]]={}),this.$mappingProps[this.$props[s][u]][s]=u.substring(7,u.length-5));if(a)for(s in a)c=void 0,r&&r.$props&&r.$props[this.$name]&&(c=r.$props[this.$name][s],(u=r.$props[this.$name]["v-bind:"+s+".once"]||r.$props[this.$name]["v-bind:"+s+".sync"])?"object"===(void 0===u?"undefined":d(u))?function(){a[s].repeat=u.for,a[s].item=u.item,a[s].index=u.index,a[s].key=u.key,a[s].value=u.value,f=!0;var t=u.for,e=r;t.split(".").forEach(function(t){e=e?e[t]:{}}),!e||"object"!==(void 0===e?"undefined":d(e))&&"string"!=typeof e||(p=Object.keys(e)[0]),o.$mappingProps[s]||(o.$mappingProps[s]={}),o.$mappingProps[s].parent={mapping:u.for,from:s}}():(c=r[u],a[s].twoWay&&(this.$mappingProps[s]||(this.$mappingProps[s]={}),this.$mappingProps[s].parent=u)):"object"===(void 0===c?"undefined":d(c))&&void 0!==c.value&&(this.data[s]=c.value)),this.data[s]||a[s].repeat||(c=y.getValue(a,s,c),this.data[s]=c);for(e in"function"==typeof this.data&&(this.data=this.data.apply(this.data)),this.data)i[""+this.$prefix+e]=this.data[e],this[e]=this.data[e];if(this.$data=$.default.$copy(this.data,!0),f&&void 0!==p&&this.$setIndex(p),this.computed)for(e in this.computed){var l=this.computed[e];i[""+this.$prefix+e]=l.call(this),this[e]=$.default.$copy(i[""+this.$prefix+e],!0)}this.setData(i);var h=Object.getOwnPropertyNames(this.$com);h.length&&h.forEach(function(t){var e=o.$com[t];e.$init(o.getWxPage(),n,o),[].concat(e.$mixins,e).forEach(function(t){t.onLoad&&t.onLoad.call(e)}),e.$apply()})}},{key:"$initMixins",value:function(){var n=this;this.mixins?"function"==typeof this.mixins&&(this.mixins=[this.mixins]):this.mixins=[],this.mixins.forEach(function(t){var e=new t;e.$init(n),n.$mixins.push(e)})}},{key:"onLoad",value:function(){}},{key:"setData",value:function(t,e){if("string"==typeof t){if(e){var n={};n[t]=e,t=n}else{var r={};r[t]=this.data[""+t],t=r}return this.$wxpage.setData(t)}var o=null,i=new RegExp("^"+this.$prefix.replace(/\$/g,"\\$"),"ig");for(o in t){var a=o.replace(i,"");this.$data[a]=$.default.$copy(t[o],!0),void 0===t[o]&&delete t[o]}return"function"==typeof e?this.$root.$wxpage.setData(t,e):this.$root.$wxpage.setData(t)}},{key:"getWxPage",value:function(){return this.$wxpage}},{key:"getCurrentPages",value:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){return getCurrentPages()})},{key:"$setIndex",value:function(n){var r=this;this.$index=n;var o=this.props,i=this.$parent,a=void 0,s=void 0,c=void 0;if(o){for(a in o)s=void 0,i&&i.$props&&i.$props[this.$name]&&(s=i.$props[this.$name][a],(c=i.$props[this.$name]["v-bind:"+a+".once"]||i.$props[this.$name]["v-bind:"+a+".sync"])&&"object"===(void 0===c?"undefined":d(c))&&function(){var t=c.for,e=i;t.split(".").forEach(function(t){e=e?e[t]:{}}),n=Array.isArray(e)?+n:n,s=o[a].value===o[a].item?e[n]:o[a].value===o[a].index?n:o[a].value===o[a].key?n:i[o[a].value],r.$index=n,r.data[a]=s,r[a]=s,r.$data[a]=$.default.$copy(r[a],!0)}());for(a in this.$com)this.$com[a].$index=void 0}}},{key:"$getComponent",value:function(n){var r=this;if("string"==typeof n){if(-1===n.indexOf("/"))return this.$com[n];if("/"===n)return this.$parent;n.split("/").forEach(function(t,e){0===e?n=""===t?r.$root:"."===t?r:".."===t?r.$parent:r.$getComponent(t):t&&(n=n.$com[t])})}return"object"!==(void 0===n?"undefined":d(n))?null:n}},{key:"$invoke",value:function(t,e){if(!(t=this.$getComponent(t)))throw new Error("Invalid path: "+t);for(var n=t.methods?t.methods[e]:"",r=arguments.length,o=Array(2<r?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];if("function"==typeof n){var a=new f.default("",this,"invoke"),s=n.apply(t,o.concat(a));return t.$apply(),s}if("function"==typeof(n=t[e]))return n.apply(t,o);throw new Error("Invalid method: "+e)}},{key:"$broadcast",value:function(n){for(var t=arguments.length,r=Array(1<t?t-1:0),e=1;e<t;e++)r[e-1]=arguments[e];for(var o="string"==typeof n?new f.default(n,this,"broadcast"):o,i=[this];i.length&&o.active;){var a=i.shift(),s=function(t){t=a.$com[t],i.push(t);var e=p(t,n);if(e&&t.$apply(function(){e.apply(t,r.concat(o))}),!o.active)return"break";c=t};for(var c in a.$com){if("break"===s(c))break}}}},{key:"$emit",value:function(n){for(var t=this,e=arguments.length,r=Array(1<e?e-1:0),o=1;o<e;o++)r[o-1]=arguments[o];var i=this,a=new f.default(n,this,"emit");if(r=r.concat(a),this.$parent&&this.$parent.$events&&this.$parent.$events[this.$name]){var s=this.$parent.$events[this.$name]["v-on:"+n];if(s&&this.$parent.methods){var c=this.$parent.methods[s];if("function"==typeof c)return void this.$parent.$apply(function(){c.apply(t.$parent,r)});throw new Error("Invalid method from emit, component is "+this.$parent.$name+", method is "+s+". Make sure you defined it already.\n")}}for(var u=function(){var e=i,t=p(e,n);t&&("function"==typeof t?e.$apply(function(){t.apply(e,r)}):Array.isArray(t)&&(t.forEach(function(t){t.apply(e,r)}),e.$apply())),i=e.$parent};i&&void 0!==i.$isComponent&&a.active;)u()}},{key:"$on",value:function(t,e){var n=this;if("string"==typeof t)(this.$events[t]||(this.$events[t]=[])).push(e);else if(Array.isArray(t))t.forEach(function(t){n.$on(t,e)});else if("object"===(void 0===t?"undefined":d(t)))for(var r in t)this.$on(r,t[r]);return this}},{key:"$once",value:function(e,n){var r=this,t=function t(){r.$off(e,t),n.apply(r,arguments)};t.fn=n,this.$on(e,t)}},{key:"$off",value:function(t,e){var n=this;if(void 0===t)this.$events={};else if("string"==typeof t)if(e){for(var r=this.$events[t],o=r.length;o--;)if(e===r[o]||e===r[o].fn){r.splice(o,1);break}}else this.$events[t]=[];else Array.isArray(t)&&t.forEach(function(t){n.$off(t,e)});return this}},{key:"$apply",value:function(t){"function"==typeof t?(t.call(this),this.$apply()):this.$$phase?this.$$phase="$apply":this.$digest()}},{key:"$digest",value:function(){var n=this,r=void 0,t=this.$data;for(this.$$phase="$digest",this.$$dc=0;this.$$phase;){if(this.$$dc++,3<=this.$$dc)throw new Error("Can not call $apply in $apply process");var e={};if(this.computed)for(r in this.computed){var o=this.computed[r].call(this);$.default.$isEqual(this[r],o)||(e[this.$prefix+r]=o,this[r]=$.default.$copy(o,!0))}for(r in t)if(!$.default.$isEqual(this[r],t[r])){if(this.watch&&this.watch[r]&&("function"==typeof this.watch[r]?this.watch[r].call(this,this[r],t[r]):"string"==typeof this.watch[r]&&"function"==typeof this.methods[r]&&this.methods[r].call(this,this[r],t[r])),e[this.$prefix+r]=this[r],this.data[r]=this[r],t[r]=$.default.$copy(this[r],!0),this.$repeat&&this.$repeat[r]){var i=this.$repeat[r];this.$com[i.com].data[i.props]=this[r],this.$com[i.com].$setIndex(0),this.$com[i.com].$apply()}this.$mappingProps[r]&&Object.keys(this.$mappingProps[r]).forEach(function(t){var e=n.$mappingProps[r][t];"object"===(void 0===e?"undefined":d(e))?n.$parent.$apply():"parent"!==t||$.default.$isEqual(n.$parent.$data[e],n[r])?"parent"===t||$.default.$isEqual(n.$com[t].$data[e],n[r])||(n.$com[t][e]=n[r],n.$com[t].data[e]=n[r],n.$com[t].$apply()):(n.$parent[e]=n[r],n.$parent.data[e]=n[r],n.$parent.$apply())})}if(Object.keys(e).length)this.setData(e,function(){if(n.$$nextTick){var t=n.$$nextTick;n.$$nextTick=null,t.promise?t():t.call(n)}});else if(this.$$nextTick){var a=this.$$nextTick;this.$$nextTick=null,a.promise?a():a.call(this)}this.$$phase="$apply"===this.$$phase&&"$digest"}}},{key:"$nextTick",value:function(t){var n=this;if(void 0===t)return new Promise(function(t,e){n.$$nextTick=function(){t()},n.$$nextTick.promise=!0});this.$$nextTick=t}}]),t}();function p(t,e){var n=t.events?t.events[e]:t.$events[e]?t.$events[e]:void 0,r=void 0===n?"undefined":d(n),o=void 0;if("string"===r){var i=t.methods&&t.methods[n];"function"==typeof i&&(o=i)}else("function"===r||Array.isArray(n))&&(o=n);return o}e.default=o});t(d);var p=e(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=function(){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},f=a(u),i=a(d),p=a(h);function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var c=function(t){function a(){var t,e,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=n=s(this,(t=a.__proto__||Object.getPrototypeOf(a)).call.apply(t,[this].concat(o)))).$isComponent=!1,n.$preloadData={},n.$prefetchData={},s(n,e)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(a,i.default),n(a,[{key:"$init",value:function(t,e){this.$parent=e,this.$root=this,e.$wxapp||(e.$wxapp=getApp()),this.$wxapp=e.$wxapp,o(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"$init",this).call(this,t,this)}},{key:"onLoad",value:function(){o(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"onLoad",this).call(this)}},{key:"$preload",value:function(t,e){if("object"===(void 0===t?"undefined":r(t))){var n=void 0;for(n in t)this.$preload(n,t[n])}else this.$preloadData[t]=e}},{key:"$route",value:function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof e){var r=e+"?";if(n){var o=void 0;for(o in n)r+=o+"="+n[o]+"&"}e={url:r=r.substring(0,r.length-1)}}else n=p.default.$getParams(e.url);this.$parent.__route__||(this.$parent.__route__=getCurrentPages()[0].__route__,this.$parent.__wxWebviewId__=getCurrentPages()[0].__wxWebviewId__);var i="/"!==this.$parent.__route__[0]?"/"+this.$parent.__route__:this.$parent.__route__,a=p.default.$resolvePath(i,e.url.split("?")[0]),s=this.$parent.$pages[a];if(s&&s.onPrefetch){var c=this.$parent.__prevPage__,u={};c&&0<Object.keys(c.$preloadData).length&&(u=c.$preloadData),s.$prefetchData=s.onPrefetch(n,{from:this,preload:u})}return f.default[t](e)}},{key:"$redirect",value:function(t,e){return this.$route("redirectTo",t,e)}},{key:"$navigate",value:function(t,e){return this.$route("navigateTo",t,e)}},{key:"$switch",value:function(t){return"string"==typeof t&&(t={url:t}),f.default.switchTab(t)}},{key:"$back",value:function(t){var e=t||{};return"number"==typeof e&&(e={delta:e}),e.delta||(e.delta=1),f.default.navigateBack(e)}}]),a}();e.default=c});t(p);var $=e(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var g=r(l),n=r(h);function r(t){return t&&t.__esModule?t:{default:t}}var c=["onLoad","onReady","onShow","onHide","onUnload","onPullDownRefresh","onReachBottom","onShareAppMessage","onPageScroll","onTabItemTap"],o=["onLaunch","onShow","onHide","onError"];e.default={$createApp:function(t,e){var n={},i=new t;return this.$instance||(i.$init(this,e),this.$instance=i,this.$appConfig=e),2===arguments.length&&!0===e&&(n.$app=i),i.$wxapp=getApp(),o=o.concat(e.appEvents||[]),c=c.concat(e.pageEvents||[]),o.forEach(function(o){n[o]=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=void 0;return!i.$wxapp&&(i.$wxapp=getApp()),i[o]&&(r=i[o].apply(i,e)),r}}),n},$createPage:function(i,t){var a=this,e={},s=new i;return"string"==typeof t&&(this.$instance.$pages["/"+t]=s),s.$initMixins(),("boolean"==typeof t&&t||3===arguments.length&&!0===arguments[2])&&(e.$page=s),e.onLoad=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];s.$name=i.name||"unnamed",s.$init(this,a.$instance,a.$instance);var r=a.$instance.__prevPage__,o={};o.from=r||void 0,r&&0<Object.keys(r.$preloadData).length&&(o.preload=r.$preloadData,r.$preloadData={}),s.$prefetchData&&0<Object.keys(s.$prefetchData).length&&(o.prefetch=s.$prefetchData,s.$prefetchData={}),e.push(o),[].concat(s.$mixins,s).forEach(function(t){t.onLoad&&t.onLoad.apply(s,e)}),s.$apply()},e.onShow=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];a.$instance.__prevPage__=s,[].concat(s.$mixins,s).forEach(function(t){t.onShow&&t.onShow.apply(s,e)});var r=getCurrentPages(),o=r[r.length-1].__route__,i=r[r.length-1].__wxWebviewId__;a.$instance.__wxWebviewId__!==i&&(s.$wxpage=this,a.$instance.__route__=o,a.$instance.__wxWebviewId__=i,[].concat(s.$mixins,s).forEach(function(t){t.onRoute&&t.onRoute.apply(s,e)})),s.$apply()},c.forEach(function(o){"onLoad"!==o&&"onShow"!==o&&(e[o]=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=void 0;return"onShareAppMessage"===o?s[o]&&(r=s[o].apply(s,e)):([].concat(s.$mixins,s).forEach(function(t){t[o]&&t[o].apply(s,e)}),"onPageScroll"!==o&&s.$apply()),r})}),s.onShareAppMessage||delete e.onShareAppMessage,-1===[].concat(s.$mixins,s).findIndex(function(t){return t.onPageScroll})&&delete e.onPageScroll,function r(o,v,i){v.$prefix=n.default.camelize(i||""),Object.getOwnPropertyNames(v.components||{}).forEach(function(t){var e=new v.components[t];e.$initMixins(),e.$name=t;var n=i?i+e.$name+"$":"$"+e.$name+"$";v.$com[t]=e,r(o,e,n)}),Object.getOwnPropertyNames(v.constructor.prototype||[]).forEach(function(t){"constructor"!==t&&-1===c.indexOf(t)&&(o[t]=function(){v.constructor.prototype[t].apply(v,arguments),v.$apply()})});var e=Object.getOwnPropertyNames(v.methods||[]);return v.$mixins.forEach(function(t){e=e.concat(Object.getOwnPropertyNames(t.methods||[]))}),e.forEach(function(y,t){o[v.$prefix+y]=function(t){for(var e=arguments.length,n=Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var o=new g.default("system",this,t.type);o.$transfor(t);var i=[],a=0,s=void 0,c=void 0,u=void 0;if(t.currentTarget&&t.currentTarget.dataset){for(s=t.currentTarget.dataset;void 0!==s["wpy"+y.toLowerCase()+(c=String.fromCharCode(65+a++))];)i.push(s["wpy"+y.toLowerCase()+c]);void 0!==s.comIndex&&(u=s.comIndex)}if(void 0!==u)for(var f=(u=(""+u).split("-")).length,p=f;0<f--;){p=f;for(var l=v;0<p--;)l=l.$parent;l.$setIndex(u.shift())}n=n.concat(i);var h=void 0,d=void 0,$=v.methods[y];return $&&(h=$.apply(v,n.concat(o))),v.$mixins.forEach(function(t){t.methods[y]&&(d=t.methods[y].apply(v,n.concat(o)))}),v.$apply(),$?h:d}}),o}(e,s,"")}}});t($);var y=e(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}();var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.data={},this.components={},this.methods={},this.events={}}return n(t,[{key:"$init",value:function(n){var r=this;Object.getOwnPropertyNames(this).concat(Object.getOwnPropertyNames(Object.getPrototypeOf(this))).forEach(function(t){t[0]+t[1]!=="on"&&"constructor"!==t&&(n[t]||(n[t]=r[t]))}),["data","events","components"].forEach(function(e){Object.getOwnPropertyNames(r[e]).forEach(function(t){"init"===t||n[e][t]||(n[e][t]=r[e][t])})})}}]),t}();e.default=r});t(y);var n=t(e(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=u(f),r=u(p),o=u(d),i=u(l),a=u($),s=u(h),c=u(y);function u(t){return t&&t.__esModule?t:{default:t}}e.default={event:i.default,app:n.default,component:o.default,page:r.default,mixin:c.default,$createApp:a.default.$createApp,$createPage:a.default.$createPage,$isEmpty:s.default.$isEmpty,$isEqual:s.default.$isEqual,$isDeepEqual:s.default.$isDeepEqual,$has:s.default.$has,$extend:s.default.$extend,$isPlainObject:s.default.$isPlainObject,$copy:s.default.$copy}})),r={prefix:"mp_client_"},o=function(){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}(),i=function(){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.key=t}return o(e,[{key:"set",value:function(t){n.setStorageSync(this.key,t)}},{key:"get",value:function(){return n.getStorageSync(this.key)||""}},{key:"remove",value:function(){n.removeStorageSync(this.key)}},{key:"clear",value:function(){n.clearStorageSync()}}]),e}(),a=new i(r.prefix+"pages");return{$:n,utils:{consts:r,Storage:i,getPages:function(){var t=getCurrentPages(),e=t[t.length-1],n=a.get()||[];return 5<n.length&&n.shift(),n.push(e),a.set(n),n}}}});
//# sourceMappingURL=index.umd.js.map
