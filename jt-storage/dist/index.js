"use strict";function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var axios=_interopDefault(require("axios/dist/axios.min")),classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},createClass=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),REST=function(){function e(){var n=this;classCallCheck(this,e),this.baseURL="",this.version="",this.path="",this.headers={};["GET","POST","PATCH","PUT","DELETE"].forEach(function(t){n[t]=function(e){return n.request(t,e)}})}return createClass(e,[{key:"request",value:function(){var n=this,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"GET",e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},t=e.id,a=void 0===t?"":t,r=e.query,o=void 0===r?null:r,s=e.body,u=void 0===s?null:s,h=this.version?"/"+this.version+"/"+this.path:"/"+this.path;return a&&(h=h+"/"+a),o&&(h=""+h+this.toURL(o)),new Promise(function(e,t){axios({baseURL:n.baseURL,headers:n.headers,method:i,url:h,data:u}).then(e).catch(t)})}},{key:"toURL",value:function(t){return t&&Object.keys(t).length?"?"+Object.keys(t).map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):""}},{key:"addPath",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return this.path=this.path+"/"+e,this}},{key:"addHeaders",value:function(e){return Object.assign(this.headers,e),this}},{key:"replace",value:function(){var t=this,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(n).forEach(function(e){t.path=t.path.replace(new RegExp("{"+e+"}","img"),n[e])}),this}}]),e}();module.exports=REST;
//# sourceMappingURL=index.js.map
